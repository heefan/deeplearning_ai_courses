# Agent Call Diagram - Chart Generation with Reflection Pattern

This diagram shows the complete agent interaction flow for the reflection-based chart generation system.

## System Architecture (ASCII)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           REFLECTION PATTERN FLOW                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    User Query
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Orchestrator  â”‚ â—„â”€â”€â”€ Controls the reflection loop
â”‚   (Reflection   â”‚      (max 3 iterations)
â”‚    Manager)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Generator     â”‚â”€â”€â”€â–¶â”‚   LMStudio      â”‚â”€â”€â”€â–¶â”‚   Generated     â”‚
â”‚   Agent         â”‚    â”‚   gpt-oss-20b   â”‚    â”‚   Code          â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ Creates code  â”‚    â”‚ â€¢ Local model   â”‚    â”‚ â€¢ Python code  â”‚
â”‚ â€¢ Uses schema   â”‚    â”‚ â€¢ Structured    â”‚    â”‚ â€¢ <execute_     â”‚
â”‚ â€¢ Gets context  â”‚    â”‚   output        â”‚    â”‚   python> tags  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                           â”‚
         â”‚                                           â–¼
         â”‚                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                                  â”‚   Critic        â”‚
         â”‚                                  â”‚   Agent         â”‚
         â”‚                                  â”‚                 â”‚
         â”‚                                  â”‚ â€¢ Reviews code  â”‚
         â”‚                                  â”‚ â€¢ Checks logic  â”‚
         â”‚                                  â”‚ â€¢ Validates req â”‚
         â”‚                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                           â”‚
         â”‚                                           â–¼
         â”‚                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                                  â”‚   LMStudio      â”‚
         â”‚                                  â”‚   gpt-oss-20b   â”‚
         â”‚                                  â”‚                 â”‚
         â”‚                                  â”‚ â€¢ Code review   â”‚
         â”‚                                  â”‚ â€¢ Feedback      â”‚
         â”‚                                  â”‚ â€¢ Approval      â”‚
         â”‚                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                           â”‚
         â”‚                                           â–¼
         â”‚                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                                  â”‚   Decision      â”‚
         â”‚                                  â”‚   Point         â”‚
         â”‚                                  â”‚                 â”‚
         â”‚                                  â”‚ Approved?       â”‚
         â”‚                                  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
         â”‚                                  â”‚ â”‚    YES      â”‚ â”‚
         â”‚                                  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
         â”‚                                  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
         â”‚                                  â”‚ â”‚     NO      â”‚ â”‚
         â”‚                                  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
         â”‚                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                           â”‚
         â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                    â”‚                      â”‚                      â”‚
         â”‚                    â–¼                      â–¼                      â–¼
         â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚            â”‚   Code      â”‚        â”‚ Improvement â”‚        â”‚   Code      â”‚
         â”‚            â”‚ Executor   â”‚        â”‚ Feedback    â”‚        â”‚ Executor    â”‚
         â”‚            â”‚            â”‚        â”‚             â”‚        â”‚             â”‚
         â”‚            â”‚ â€¢ Extract  â”‚        â”‚ â€¢ Specific  â”‚        â”‚ â€¢ Extract   â”‚
         â”‚            â”‚   code     â”‚        â”‚   issues    â”‚        â”‚   code      â”‚
         â”‚            â”‚ â€¢ Validate â”‚        â”‚ â€¢ Improve  â”‚        â”‚ â€¢ Validate  â”‚
         â”‚            â”‚   imports  â”‚        â”‚   suggestionsâ”‚       â”‚   imports   â”‚
         â”‚            â”‚ â€¢ Executeâ”‚        â”‚ â€¢ Context    â”‚        â”‚ â€¢ Execute    â”‚
         â”‚            â”‚   safely   â”‚        â”‚   update    â”‚        â”‚   safely    â”‚
         â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                    â”‚                      â”‚                      â”‚
         â”‚                    â–¼                      â”‚                      â–¼
         â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚            â”‚ Generated  â”‚                â”‚              â”‚ Generated  â”‚
         â”‚            â”‚ Charts     â”‚                â”‚              â”‚ Charts     â”‚
         â”‚            â”‚            â”‚                â”‚              â”‚            â”‚
         â”‚            â”‚ â€¢ PNG/SVG  â”‚                â”‚              â”‚ â€¢ PNG/SVG  â”‚
         â”‚            â”‚ â€¢ Files   â”‚                â”‚              â”‚ â€¢ Files    â”‚
         â”‚            â”‚ â€¢ Results â”‚                â”‚              â”‚ â€¢ Results  â”‚
         â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                    â”‚                      â”‚                      â”‚
         â”‚                    â–¼                      â”‚                      â–¼
         â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚            â”‚   User      â”‚                â”‚              â”‚   User     â”‚
         â”‚            â”‚  Results   â”‚                â”‚              â”‚  Results   â”‚
         â”‚            â”‚            â”‚                â”‚              â”‚            â”‚
         â”‚            â”‚ â€¢ Code     â”‚                â”‚              â”‚ â€¢ Code     â”‚
         â”‚            â”‚ â€¢ Charts  â”‚                â”‚              â”‚ â€¢ Charts   â”‚
         â”‚            â”‚ â€¢ History â”‚                â”‚              â”‚ â€¢ History  â”‚
         â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                           â”‚
         â”‚                                           â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    (Continue to next iteration)
```

## Detailed Reflection Loop (ASCII)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        REFLECTION LOOP SEQUENCE                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Query: "Create Q1 sales comparison chart"
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ITERATION 1                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Data      â”‚    â”‚ Generator   â”‚    â”‚ LMStudio    â”‚    â”‚ Generated   â”‚
â”‚  Schema     â”‚â”€â”€â”€â–¶â”‚   Agent    â”‚â”€â”€â”€â–¶â”‚ gpt-oss-20b â”‚â”€â”€â”€â–¶â”‚   Code      â”‚
â”‚             â”‚    â”‚             â”‚    â”‚             â”‚    â”‚             â”‚
â”‚ â€¢ Parse CSV â”‚    â”‚ â€¢ Build     â”‚    â”‚ â€¢ Generate  â”‚    â”‚ â€¢ Python    â”‚
â”‚ â€¢ Extract   â”‚    â”‚   prompt    â”‚    â”‚   code      â”‚    â”‚   code      â”‚
â”‚   schema    â”‚    â”‚ â€¢ Include   â”‚    â”‚ â€¢ Return    â”‚    â”‚ â€¢ <execute_ â”‚
â”‚ â€¢ Get       â”‚    â”‚   context   â”‚    â”‚   structured â”‚    â”‚   python>   â”‚
â”‚   samples   â”‚    â”‚ â€¢ Send to   â”‚    â”‚   response  â”‚    â”‚   tags      â”‚
â”‚             â”‚    â”‚   LMStudio  â”‚    â”‚             â”‚    â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                    â”‚
                                                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Critic    â”‚    â”‚ LMStudio    â”‚    â”‚ Critique    â”‚    â”‚ Decision    â”‚
â”‚   Agent     â”‚â—„â”€â”€â”€â”‚ gpt-oss-20b â”‚â—„â”€â”€â”€â”‚ Response   â”‚â—„â”€â”€â”€â”‚ Point       â”‚
â”‚             â”‚    â”‚             â”‚    â”‚             â”‚    â”‚             â”‚
â”‚ â€¢ Review    â”‚    â”‚ â€¢ Analyze   â”‚    â”‚ â€¢ Result:   â”‚    â”‚ Approved?   â”‚
â”‚   code      â”‚    â”‚   code      â”‚    â”‚   approved/ â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â€¢ Check     â”‚    â”‚ â€¢ Check     â”‚    â”‚   needs     â”‚    â”‚ â”‚  YES    â”‚ â”‚
â”‚   logic     â”‚    â”‚   logic     â”‚    â”‚   improve   â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â€¢ Validate  â”‚    â”‚ â€¢ Validate  â”‚    â”‚ â€¢ Feedback  â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   reqs      â”‚    â”‚   reqs      â”‚    â”‚ â€¢ Issues    â”‚    â”‚ â”‚   NO    â”‚ â”‚
â”‚             â”‚    â”‚             â”‚    â”‚ â€¢ Suggestionsâ”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                    â”‚
                                                                    â–¼
                                                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                           â”‚   Branch    â”‚
                                                           â”‚             â”‚
                                                           â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
                                                           â”‚  â”‚Approved â”‚â”‚
                                                           â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
                                                           â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
                                                           â”‚  â”‚Needs    â”‚â”‚
                                                           â”‚  â”‚Improve  â”‚â”‚
                                                           â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
                                                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                    â”‚
                                                                    â–¼
                                                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                           â”‚   Action    â”‚
                                                           â”‚             â”‚
                                                           â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                                                           â”‚ â”‚Execute  â”‚ â”‚
                                                           â”‚ â”‚Code     â”‚ â”‚
                                                           â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                                                           â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                                                           â”‚ â”‚Update   â”‚ â”‚
                                                           â”‚ â”‚Context  â”‚ â”‚
                                                           â”‚ â”‚& Retry  â”‚ â”‚
                                                           â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                                                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Code Execution Flow (ASCII)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        CODE EXECUTION SAFETY FLOW                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Generated Code with <execute_python> tags
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           CODE EXECUTOR                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Extract   â”‚    â”‚  Validate   â”‚    â”‚  Execute    â”‚    â”‚   Capture   â”‚
â”‚   Code      â”‚    â”‚  Imports    â”‚    â”‚  Safely     â”‚    â”‚  Results    â”‚
â”‚             â”‚    â”‚             â”‚    â”‚             â”‚    â”‚             â”‚
â”‚ â€¢ Parse     â”‚    â”‚ â€¢ Check     â”‚    â”‚ â€¢ Sandbox   â”‚    â”‚ â€¢ Output    â”‚
â”‚   tags      â”‚    â”‚   allowed   â”‚    â”‚   env       â”‚    â”‚   files     â”‚
â”‚ â€¢ Extract   â”‚    â”‚   imports   â”‚    â”‚ â€¢ Timeout   â”‚    â”‚ â€¢ Charts    â”‚
â”‚   Python     â”‚    â”‚ â€¢ matplotlibâ”‚    â”‚   protect  â”‚    â”‚ â€¢ PNG/SVG   â”‚
â”‚   code      â”‚    â”‚ â€¢ pandas    â”‚    â”‚ â€¢ Error     â”‚    â”‚ â€¢ Results   â”‚
â”‚             â”‚    â”‚ â€¢ numpy     â”‚    â”‚   handling  â”‚    â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                 â”‚                 â”‚                 â”‚
         â–¼                 â–¼                 â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Clean     â”‚    â”‚   Reject    â”‚    â”‚   Success   â”‚    â”‚   Return    â”‚
â”‚   Code      â”‚    â”‚   Unsafe    â”‚    â”‚   Result    â”‚    â”‚   Files    â”‚
â”‚             â”‚    â”‚   Code      â”‚    â”‚             â”‚    â”‚             â”‚
â”‚ â€¢ Remove    â”‚    â”‚ â€¢ Block     â”‚    â”‚ â€¢ Generated â”‚    â”‚ â€¢ Chart     â”‚
â”‚   tags      â”‚    â”‚   dangerous â”‚    â”‚   charts    â”‚    â”‚   paths     â”‚
â”‚ â€¢ Prepare   â”‚    â”‚   imports   â”‚    â”‚ â€¢ Execution â”‚    â”‚ â€¢ Metadata  â”‚
â”‚   for exec  â”‚    â”‚ â€¢ Log       â”‚    â”‚   time      â”‚    â”‚             â”‚
â”‚             â”‚    â”‚   attempt   â”‚    â”‚ â€¢ Return    â”‚    â”‚             â”‚
â”‚             â”‚    â”‚             â”‚    â”‚   code      â”‚    â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Error Handling Flow (ASCII)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ERROR HANDLING FLOW                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Agent    â”‚    â”‚   Retry     â”‚    â”‚   Max       â”‚    â”‚  Graceful   â”‚
â”‚   Call     â”‚    â”‚   Logic     â”‚    â”‚  Retries    â”‚    â”‚  Failure    â”‚
â”‚            â”‚    â”‚            â”‚    â”‚            â”‚    â”‚            â”‚
â”‚ â€¢ Success? â”‚â”€â”€â”€â–¶â”‚ â€¢ Retry    â”‚â”€â”€â”€â–¶â”‚ â€¢ Reached  â”‚â”€â”€â”€â–¶â”‚ â€¢ Log      â”‚
â”‚ â€¢ Error?   â”‚    â”‚   count    â”‚    â”‚   limit?   â”‚    â”‚   error    â”‚
â”‚            â”‚    â”‚ â€¢ Wait     â”‚    â”‚            â”‚    â”‚ â€¢ Return   â”‚
â”‚            â”‚    â”‚   time     â”‚    â”‚            â”‚    â”‚   message  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                 â”‚                 â”‚                 â”‚
         â–¼                 â–¼                 â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Continue   â”‚    â”‚   Retry     â”‚    â”‚   Stop     â”‚    â”‚   User      â”‚
â”‚   Flow     â”‚    â”‚   Agent     â”‚    â”‚   Process  â”‚    â”‚  Notified   â”‚
â”‚            â”‚    â”‚   Call     â”‚    â”‚            â”‚    â”‚            â”‚
â”‚ â€¢ Success  â”‚    â”‚ â€¢ Network  â”‚    â”‚ â€¢ Log      â”‚    â”‚ â€¢ Error    â”‚
â”‚   result   â”‚    â”‚   error    â”‚    â”‚   failure  â”‚    â”‚   message  â”‚
â”‚ â€¢ Generated â”‚    â”‚ â€¢ Timeout  â”‚    â”‚ â€¢ Cleanup  â”‚    â”‚ â€¢ Fallback â”‚
â”‚   code     â”‚    â”‚ â€¢ LMStudio â”‚    â”‚   resourcesâ”‚    â”‚   response â”‚
â”‚            â”‚    â”‚   down     â”‚    â”‚            â”‚    â”‚            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        EXECUTION ERROR HANDLING                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Code      â”‚    â”‚   Timeout  â”‚    â”‚   Syntax    â”‚    â”‚   Runtime   â”‚
â”‚ Execution   â”‚    â”‚   Error    â”‚    â”‚   Error     â”‚    â”‚   Error    â”‚
â”‚            â”‚    â”‚            â”‚    â”‚            â”‚    â”‚            â”‚
â”‚ â€¢ Success? â”‚â”€â”€â”€â–¶â”‚ â€¢ Timeout  â”‚â”€â”€â”€â–¶â”‚ â€¢ Invalid  â”‚â”€â”€â”€â–¶â”‚ â€¢ Name     â”‚
â”‚ â€¢ Error?   â”‚    â”‚   after    â”‚    â”‚   syntax    â”‚    â”‚   error    â”‚
â”‚            â”‚    â”‚   30s      â”‚    â”‚            â”‚    â”‚ â€¢ Import   â”‚
â”‚            â”‚    â”‚            â”‚    â”‚            â”‚    â”‚   error    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                 â”‚                 â”‚                 â”‚
         â–¼                 â–¼                 â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Return    â”‚    â”‚   Log       â”‚    â”‚   Log       â”‚    â”‚   Log       â”‚
â”‚   Results   â”‚    â”‚   Timeout   â”‚    â”‚   Syntax    â”‚    â”‚   Runtime   â”‚
â”‚            â”‚    â”‚   Error     â”‚    â”‚   Error     â”‚    â”‚   Error     â”‚
â”‚ â€¢ Charts   â”‚    â”‚ â€¢ Return   â”‚    â”‚ â€¢ Return   â”‚    â”‚ â€¢ Return   â”‚
â”‚ â€¢ Files    â”‚    â”‚   -1 code   â”‚    â”‚   error    â”‚    â”‚   error    â”‚
â”‚ â€¢ Success  â”‚    â”‚ â€¢ Error    â”‚    â”‚   message  â”‚    â”‚   message  â”‚
â”‚   status   â”‚    â”‚   message  â”‚    â”‚            â”‚    â”‚            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Interaction Map (ASCII)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        COMPONENT INTERACTION MAP                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ADK Agents    â”‚    â”‚ Core Components  â”‚    â”‚ External        â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚ Services        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Generator   â”‚ â”‚    â”‚ â”‚Orchestrator â”‚ â”‚    â”‚ â”‚ LMStudio    â”‚ â”‚
â”‚ â”‚ Agent       â”‚ â”‚â—„â”€â”€â”€â”¤ â”‚             â”‚ â”‚    â”‚ â”‚ gpt-oss-20b â”‚ â”‚
â”‚ â”‚             â”‚ â”‚    â”‚ â”‚ â€¢ Controls  â”‚ â”‚    â”‚ â”‚             â”‚ â”‚
â”‚ â”‚ â€¢ Creates   â”‚ â”‚    â”‚ â”‚   loop       â”‚ â”‚    â”‚ â”‚ â€¢ Local     â”‚ â”‚
â”‚ â”‚   code      â”‚ â”‚    â”‚ â”‚ â€¢ Manages   â”‚ â”‚    â”‚ â”‚   model     â”‚ â”‚
â”‚ â”‚ â€¢ Uses      â”‚ â”‚    â”‚ â”‚   context   â”‚ â”‚    â”‚ â”‚ â€¢ Structuredâ”‚ â”‚
â”‚ â”‚   schema    â”‚ â”‚    â”‚ â”‚ â€¢ Handles   â”‚ â”‚    â”‚ â”‚   output    â”‚ â”‚
â”‚ â”‚ â€¢ Gets      â”‚ â”‚    â”‚ â”‚   errors    â”‚ â”‚    â”‚ â”‚ â€¢ Fast      â”‚ â”‚
â”‚ â”‚   context   â”‚ â”‚    â”‚ â”‚             â”‚ â”‚    â”‚ â”‚   response  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Critic      â”‚ â”‚    â”‚ â”‚ Code        â”‚ â”‚    â”‚ â”‚ File        â”‚ â”‚
â”‚ â”‚ Agent       â”‚ â”‚â—„â”€â”€â”€â”¤ â”‚ Executor    â”‚ â”‚    â”‚ â”‚ System      â”‚ â”‚
â”‚ â”‚             â”‚ â”‚    â”‚ â”‚             â”‚ â”‚    â”‚ â”‚             â”‚ â”‚
â”‚ â”‚ â€¢ Reviews   â”‚ â”‚    â”‚ â”‚ â€¢ Extract   â”‚ â”‚    â”‚ â”‚ â€¢ Save      â”‚ â”‚
â”‚ â”‚   code      â”‚ â”‚    â”‚ â”‚   code      â”‚ â”‚    â”‚ â”‚   charts    â”‚ â”‚
â”‚ â”‚ â€¢ Checks    â”‚ â”‚    â”‚ â”‚ â€¢ Validate  â”‚ â”‚    â”‚ â”‚ â€¢ PNG/SVG   â”‚ â”‚
â”‚ â”‚   logic     â”‚ â”‚    â”‚ â”‚   imports   â”‚ â”‚    â”‚ â”‚ â€¢ Results  â”‚ â”‚
â”‚ â”‚ â€¢ Validates â”‚ â”‚    â”‚ â”‚ â€¢ Execute   â”‚ â”‚    â”‚ â”‚             â”‚ â”‚
â”‚ â”‚   reqs      â”‚ â”‚    â”‚ â”‚   safely    â”‚ â”‚    â”‚ â”‚             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Data Flow       â”‚    â”‚ Data Flow       â”‚    â”‚ Data Flow       â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ CSV Schema    â”‚    â”‚ â€¢ Generated     â”‚    â”‚ â€¢ Chart Files  â”‚
â”‚ â€¢ Sample Data   â”‚    â”‚   Code          â”‚    â”‚ â€¢ Results       â”‚
â”‚ â€¢ Date Range    â”‚    â”‚ â€¢ <execute_     â”‚    â”‚ â€¢ Metadata      â”‚
â”‚ â€¢ Coffee Types  â”‚    â”‚   python> tags  â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Key Features Summary (ASCII)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           KEY FEATURES SUMMARY                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ”„ REFLECTION LOOP                    ğŸ”’ SAFETY & SECURITY
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Generator     â”‚                  â”‚ â€¢ Code extract  â”‚
â”‚   creates code  â”‚                  â”‚   from tags     â”‚
â”‚ â€¢ Critic        â”‚                  â”‚ â€¢ Import        â”‚
â”‚   reviews       â”‚                  â”‚   validation    â”‚
â”‚ â€¢ Iterative     â”‚                  â”‚ â€¢ Sandboxed     â”‚
â”‚   improvement   â”‚                  â”‚   execution     â”‚
â”‚ â€¢ Context       â”‚                  â”‚ â€¢ Timeout       â”‚
â”‚   awareness     â”‚                  â”‚   protection    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“Š DATA INTEGRATION                  ğŸ§ª TESTING STRATEGY
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ CSV schema    â”‚                  â”‚ â€¢ Unit tests    â”‚
â”‚   parsing       â”‚                  â”‚   (mocked)      â”‚
â”‚ â€¢ Sample data   â”‚                  â”‚ â€¢ E2E tests     â”‚
â”‚   extraction    â”‚                  â”‚   (real LMStudioâ”‚
â”‚ â€¢ Date range    â”‚                  â”‚ â€¢ Performance   â”‚
â”‚   analysis      â”‚                  â”‚   benchmarks    â”‚
â”‚ â€¢ Coffee type   â”‚                  â”‚ â€¢ Error        â”‚
â”‚   enumeration   â”‚                  â”‚   scenarios     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âš¡ PERFORMANCE                       ğŸ› ï¸ MODERN TOOLING
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Async/await   â”‚                  â”‚ â€¢ UV dependency â”‚
â”‚   for I/O       â”‚                  â”‚   management    â”‚
â”‚ â€¢ Connection    â”‚                  â”‚ â€¢ Pytest        â”‚
â”‚   pooling       â”‚                  â”‚   testing       â”‚
â”‚ â€¢ Cached        â”‚                  â”‚ â€¢ Black/isort  â”‚
â”‚   schema        â”‚                  â”‚   formatting    â”‚
â”‚ â€¢ Optimized     â”‚                  â”‚ â€¢ Ruff linting  â”‚
â”‚   prompts       â”‚                  â”‚ â€¢ MyPy type     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

This ASCII diagram provides a comprehensive visual representation of the reflection-based chart generation system, showing all the key components, data flows, error handling, and safety measures in a clear, text-based format.